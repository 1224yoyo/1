<!DOCTYPE html>
<html>
    <head>

    </head>
    <body>
        <p>名字</p><input type="text" id="texts1">
        <p>密碼</p><input type="text" id="texts2"><button id="buttons">新增</button>
    </body>
    <script>
        data=[];
        async function init(){
        response=await fetch("https://6921b829512fb4140be121e3.mockapi.io/items");
        data=await response.json();
    };
        
        



        document.getElementById("buttons").addEventListener("click",async()=>{
            let u=document.getElementById("texts1").value.trim();
            let p=document.getElementById("texts2").value.trim();
            console.log(u,p)
            
            let found = data.find(item => item.name == u);
            if(!found && u && p){
                let un={"name":u,"userpass":p}
                console.log(un,"成功")

            res=await fetch("https://6921b829512fb4140be121e3.mockapi.io/items",{
            method:"POST",
            headers: {
            "Content-Type": "application/json"},
            body: JSON.stringify(un)
            })
            let result = await res.json();
            data.push(result);
        }else{console.log("失敗")}
}
)
    init();
    </script>
</html>
